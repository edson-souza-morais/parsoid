/**
 * Add support for {@link .shortName} and {@link #shortName}.
 */
function expandLinks (text, longname) {

    return text.replace(/\{\s*@link\s+([#.])([\w$]+)\s*\}/g, function (m, mod, name) {
        return "{@link " + longname + mod + name + " " + name + "}";
    });

}

exports.handlers = {
    newDoclet: function (e) {
        console.log('here', e);

        var doclet = e.doclet;

        ['description', 'classdesc'].forEach(function (p) {
            if (doclet[p]) {
                doclet[p] = expandLinks(doclet[p], doclet.fullname);
            }
        });
    }
};
